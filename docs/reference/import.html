<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generic data import for openair — import • openair</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generic data import for openair — import" />
<meta property="og:description" content="This function is mostly used to simplify the importing of csv and
text file in openair. In particular it helps to get the
date or date/time into the correct format. The file can contain
either a date or date/time in a single column or a date in one
column and time in another." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openair</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.8-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/davidcarslaw/openair">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generic data import for openair</h1>
    <small class="dont-index">Source: <a href='https://github.com/davidcarslaw/openair/blob/master/R/import.R'><code>R/import.R</code></a></small>
    <div class="hidden name"><code>import.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is mostly used to simplify the importing of csv and
text file in <code>openair</code>. In particular it helps to get the
date or date/time into the correct format. The file can contain
either a date or date/time in a single column or a date in one
column and time in another.</p>
    </div>

    <pre class="usage"><span class='fu'>import</span><span class='op'>(</span>
  file <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.choose.html'>file.choose</a></span><span class='op'>(</span><span class='op'>)</span>,
  file.type <span class='op'>=</span> <span class='st'>"csv"</span>,
  sep <span class='op'>=</span> <span class='st'>","</span>,
  header.at <span class='op'>=</span> <span class='fl'>1</span>,
  data.at <span class='op'>=</span> <span class='fl'>2</span>,
  date <span class='op'>=</span> <span class='st'>"date"</span>,
  date.format <span class='op'>=</span> <span class='st'>"%d/%m/%Y %H:%M"</span>,
  time <span class='op'>=</span> <span class='cn'>NULL</span>,
  time.format <span class='op'>=</span> <span class='cn'>NULL</span>,
  tzone <span class='op'>=</span> <span class='st'>"GMT"</span>,
  na.strings <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>""</span>, <span class='st'>"NA"</span><span class='op'>)</span>,
  quote <span class='op'>=</span> <span class='st'>"\""</span>,
  ws <span class='op'>=</span> <span class='cn'>NULL</span>,
  wd <span class='op'>=</span> <span class='cn'>NULL</span>,
  correct.time <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>The name of the file to be imported. Default, <code>file =
file.choose()</code>, opens browser. Alternatively, the use of
<code>read.table</code> (in <code>utils</code>) also allows this to be a character
vector of a file path, connection or url.</p></td>
    </tr>
    <tr>
      <th>file.type</th>
      <td><p>The file format, defaults to common &#8216;csv&#8217; (comma
delimited) format, but also allows &#8216;txt&#8217; (tab delimited).</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>Allows user to specify a delimiter if not &#8216;,&#8217; (csv) or
TAB (txt). For example &#8216;;&#8217; is sometimes used to delineate separate
columns.</p></td>
    </tr>
    <tr>
      <th>header.at</th>
      <td><p>The file row holding header information or <code>NULL</code> if
no header to be used.</p></td>
    </tr>
    <tr>
      <th>data.at</th>
      <td><p>The file row to start reading data from. When generating the
data frame, the function will ignore all information before this row, and
attempt to include all data from this row onwards.</p></td>
    </tr>
    <tr>
      <th>date</th>
      <td><p>Name of the field containing the date. This can be a
date e.g. 10/12/2012 or a date-time format e.g. 10/12/2012 01:00.</p></td>
    </tr>
    <tr>
      <th>date.format</th>
      <td><p>The format of the date. This is given in &#8216;R&#8217;
format according to <code>strptime</code>. For example, a date format
such as 1/11/2000 12:00 (day/month/year hour:minutes) is given the
format &#8220;%d/%m/%Y %H:%M&#8221;. See examples below and <code>strptime</code>
for more details.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>The name of the column containing a time --- if there
is one. This is used when a time is given in a separate column and
<code>date</code> contains no information about time.</p></td>
    </tr>
    <tr>
      <th>time.format</th>
      <td><p>If there is a column for <code>time</code> then the
time format must be supplied. Common examples include &#8220;%H:%M&#8221;
(like 07:00) or an integer giving the hour, in which case the
format is &#8220;%H&#8221;. Again, see examples below.</p></td>
    </tr>
    <tr>
      <th>tzone</th>
      <td><p>The time zone for the data. In order to avoid the
complexities of DST (daylight savings time), openair assumes the
data are in GMT (UTC) or a constant offset from GMT. Users can set
a positive or negative offset in hours from GMT. For example, to
set the time zone of the data to the time zone in New York (EST, 5
hours behind GMT) set <code>tzone = "Etc/GMT+5"</code>. To set the time
zone of the data to Central European Time (CET, 1 hour ahead of
GMT) set <code>tzone = "Etc/GMT-1"</code>. <em>Note that the positive
and negative offsets are opposite to what most users expect.</em></p></td>
    </tr>
    <tr>
      <th>na.strings</th>
      <td><p>Strings of any terms that are to be interpreted
as missing (NA). For example, this might be &#8220;-999&#8221;, or
&#8220;n/a&#8221; and can be of several items.</p></td>
    </tr>
    <tr>
      <th>quote</th>
      <td><p>String of characters (or character equivalents) the
imported file may use to represent a character field.</p></td>
    </tr>
    <tr>
      <th>ws</th>
      <td><p>Name of wind speed field if present if different from
&#8220;ws&#8221; e.g. <code>ws = "WSPD"</code>.</p></td>
    </tr>
    <tr>
      <th>wd</th>
      <td><p>Name of wind direction field if present if different
from &#8220;wd&#8221; e.g. <code>wd = "WDIR"</code>.</p></td>
    </tr>
    <tr>
      <th>correct.time</th>
      <td><p>Numerical correction (in seconds) for imported
date.  Default <code>NULL</code> turns this option off. This can be useful if
the hour is represented as 1 to 24 (rather than 0 to 23 assumed by
R). In which case <code>correct.time = -3600</code> will correct the
hour.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments passed to <code>read.table</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame formatted for openair use.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function uses <code><a href='https://rdrr.io/r/base/strptime.html'>strptime</a></code> to parse dates and
times. Users should consider the examples for use of these
formats.</p>
<p>The function can either deal with combined date-time formats
e.g. 10/12/1999 23:00 or with two separate columns that deal with
date and time. Often there is a column for the date and another
for hour. For the latter, the option <code>time.format = "%H"</code>
should be supplied. Note that R considers hours 0 to 23. However,
if hours 1 to 24 are detected <code>import</code> will correct the hours
accordingly.</p>
<p><code>import</code> will also ensure wind speed and wind direction are
correctly labelled (i.e. "ws", "wd") if <code>ws</code> or <code>wd</code> are
given.</p>
<p>Note that it is assumed that the input data are in GMT (UTC)
format and in particular there is no consideration of daylight
saving time i.e. where in the input data set an hour is missing in
spring and duplicated in autumn.</p>
<p>Examples of use are given in the openair manual.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Dedicated import functions available for selected file types, e.g.
  : <code><a href='importAQE.html'>importAURN</a></code>, <code><a href='importAURNCsv.html'>importAURNCsv</a></code>,
  <code><a href='importKCL.html'>importKCL</a></code>, <code><a href='importADMS.html'>importADMS</a></code>, etc.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>David Carslaw</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Carslaw, Karl Ropkins.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


