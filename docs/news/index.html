<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • openair</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openair</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.8-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/davidcarslaw/openair">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/davidcarslaw/openair/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="openair-28-99" class="section level1">
<h1 class="page-header" data-toc-text="2.8-99">
<a href="#openair-28-99" class="anchor"></a>openair 2.8-99<small> Unreleased </small>
</h1>
</div>
    <div id="openair-28-6" class="section level1">
<h1 class="page-header" data-toc-text="2.8-6">
<a href="#openair-28-6" class="anchor"></a>openair 2.8-6<small> 2021-11-22 </small>
</h1>
<ul>
<li>fix annotation bug when comparing two data sets in <code>windRose</code>
</li>
<li>enhance <code>selectRunning</code>. Now returns full data frame with a new condition column.</li>
<li>make sure “hemisphere” argument goes to type “monthyear” and “yearmonth”</li>
<li>argument <code>month</code> not passed in <code>calendarPlot</code>
</li>
</ul>
</div>
    <div id="openair-28-4" class="section level1">
<h1 class="page-header" data-toc-text="2.8-4">
<a href="#openair-28-4" class="anchor"></a>openair 2.8-4<small> 2021-09-15 </small>
</h1>
<ul>
<li>fix bug in <code>windRose</code> where whole period is calm</li>
<li>add optimisation to <code>polarCluster</code> to speed up clustering through option <code>pamonce = 3</code>. This should not appreciably affect results.</li>
<li>fix strange bug in <code>aqStats</code> due to <code>lubridate</code> time zone issue.</li>
<li>fix bug in <code>TaylorDiagram</code> when group was present.</li>
<li>Do not convert times with Daylight Saving Time when checking data — just report presence.</li>
<li>add option <code>plot.type</code> to <code>summaryPlot</code> to change line style; most useful for vertical lines in time series with <code>plot.type = "h"</code>
</li>
</ul>
<div id="openair-28-1" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-28-1" class="anchor"></a>openair 2.8-1</h2>
<ul>
<li>Fix bug that crept in for <code>polarCluster</code>
</li>
</ul>
</div>
<div id="openair-28-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-28-0" class="anchor"></a>openair 2.8-0</h2>
<ul>
<li>New function <code>polarDiff</code> to consider the difference surface between two polar plots.</li>
<li>Modify <code>polarCluster</code> to consider clustering of differences in polar plot surfaces.</li>
<li>Fix user annotation in <code>windRose</code> and pass on option for number of significant figures used to annotate plots (<code>dig.lab</code>)</li>
</ul>
</div>
<div id="openair-27-6" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-27-6" class="anchor"></a>openair 2.7-6</h2>
<ul>
<li>fix bug with <code>percentileRose</code> when <code>statistic = "cpf"</code> and multiple pollutants</li>
<li>fix bug in <code>timeAverage</code> when <code>type = "season"</code> and <code>avg.time = "season"</code>
</li>
<li>add <code>week</code> to openair default types</li>
<li>fix bug in <code>timeVariation</code> when considering difference plots with missing data</li>
<li>fix CRAN check when using <code>return</code>
</li>
</ul>
</div>
<div id="openair-27-4" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-27-4" class="anchor"></a>openair 2.7-4</h2>
<ul>
<li>add ambient temperature (<code>air_temp</code>) to meteorological variables returned from <code>importAURN</code>, <code>importSAQN</code> and <code>importWAQN</code> (using WRF model).</li>
<li>re-format date returned in <code>importAQE</code> due to strange <code>dplyr</code> join issues</li>
<li>add <code>statistic = "Spearman"</code> to <code>polarPlot</code> as an option when considering two pollutants.</li>
<li>add <code>method</code> option to <code>corPlot</code> to allow different correlation methods (“pearson”, “spearman” or “kendall”)</li>
<li>refactor all UK air quality data import functions i.e. <code>importAURN</code>, <code>importSAQN</code>, <code>importWAQN</code>, <code>importAQE</code>.</li>
<li>Add <code>importNI</code> to import data from Northern Ireland.</li>
<li>Add option to UK air quality import functions to return information on whether individual pollutants have been quality-assured using option <code>ratified</code>. These functions include <code>importAURN</code>, <code>importSAQN</code>, <code>importWAQN</code>, <code>importAQE</code> and <code>importNI</code>
</li>
<li>Clean up what is returned from <code>importMeta</code>
</li>
<li>Return air quality data site name and code as character rather than factor</li>
</ul>
</div>
<div id="openair-27-2" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-27-2" class="anchor"></a>openair 2.7-2</h2>
<ul>
<li>fix tibble recycling issue</li>
<li>fix shading issue in lowest percentile range in <code>percentileRose</code>.</li>
<li>fix strange bug in <code>importWAQN</code> that would intermittently fail; sometimes crashing R.</li>
<li>add option <code>date.format</code> to <code>TheilSen</code>.</li>
</ul>
</div>
<div id="openair-27-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-27-0" class="anchor"></a>openair 2.7-0</h2>
<ul>
<li>fix <code>calendarPlot</code> slowness on MacOS</li>
<li>Refine use of Gaussian kernels when two pollutant statistics are considered in <code>polarPlot</code>
</li>
<li>Add option <code>statistic = "nwr"</code> in <code>polarPlot</code> that implements the Non-parametric Wind Regression based on Henry et al. (2009). The <code>openair</code> implementation is not identical but should yield similar results.</li>
<li>NEW <code>importAQE</code> function to import data from <a href="https://www.airqualityengland.co.uk/">Air Quality England</a> sites.</li>
<li>NEW <code>importEurope</code> to provide access to some the data from the <code>saqgetr</code> package.</li>
</ul>
</div>
<div id="openair-26-6" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-26-6" class="anchor"></a>openair 2.6-6</h2>
<ul>
<li>fix bug in <code>TheilSen</code> when no missing data and <code>deseason = TRUE</code>
</li>
<li>fix bug in <code>timeAverage</code> when interval padding dates and date is “Date” class and not “POSIXct”</li>
<li>fix example for <code>trajCluster</code>, should be <code>n.cluster</code> not <code>n.clusters</code>
</li>
<li>fix issue with DST in <code>cutData</code>
</li>
<li>allow ‘hemisphere’ to be supplied as an argument to <code>timeAverage</code>, used for avg.time = “season”.</li>
<li>add option <code>to_narrow</code> to <code>importAURN</code>, <code>importSAQN</code>, <code>importKCL</code> and <code>importWAQN</code> to stack data into a tidy format. The data are now returned as a ‘tibble’</li>
<li>Allow meta data to be returned in <code>importSAQN</code> and <code>importWAQN</code>.</li>
</ul>
</div>
<div id="openair-26-4" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-26-4" class="anchor"></a>openair 2.6-4</h2>
<ul>
<li>fix issue with <code>TheilSen</code> when conditioning and &lt; 6 annual measurements</li>
<li>remove arrow heads in <code>polarPlot</code> axes.</li>
<li>Use a Kalman filter and Kalman smooth to impute missing monthly means when <code>deseason = TRUE</code> in <code>smoothTrend</code> and <code>TheilSen</code>. This replaces simple linear interpolation.</li>
<li>fix bug in <code>smoothTrend</code> when <code>ci = FALSE</code> (no smooth was fitted).</li>
<li>Add <code>importWAQN</code> to access data from the <a href="https://airquality.gov.wales/">Welsh air quality network</a>.</li>
<li>Add “waqn” as a data source to <code>importMeta</code>.</li>
</ul>
</div>
<div id="openair-26-1" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-26-1" class="anchor"></a>openair 2.6-1</h2>
<ul>
<li>Update handling of meta data in <code>importMeta</code>.</li>
</ul>
</div>
<div id="openair-26-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-26-0" class="anchor"></a>openair 2.6-0</h2>
<ul>
<li>In <code>aqStats</code> use default <code>data.thresh = 0</code> rather than 75% to ensure summaries are calculated</li>
<li>Fix confidence intervals in <code>timeVariation</code> when statistic - “median”. Revision will result in narrower range.</li>
<li>Change default in <code>corPlot</code> to plot lower and upper triangles; add <code>lower</code> as an option.</li>
<li>Update meta data for Scottish Air Quality Network (“saqn”); was badly out of date</li>
<li>fix bug in <code>timeAverage</code> when interval more than one time unit e.g. “10 day”</li>
</ul>
</div>
<div id="openair-25-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-25-0" class="anchor"></a>openair 2.5-0</h2>
<ul>
<li>add simple versions of <strong>viridis</strong> colour palettes: “viridis”, “plasma”, “magma”, “inferno” and “cividis” e.g. <code>polarPlot(mydata, cols = "plasma")</code>
</li>
<li>allow option <code>align</code> to be used in <code>aqStats</code> to determine how rolling means are calculated. Can take the values “center” (default), “left” and “right”.</li>
<li>make sure full year present in <code>importAURN</code>
</li>
<li>fix issue with multiple pollutants in <code>polarAnnulus</code>
</li>
<li>fix issues in trajectory functions due to <code>dplyr</code>.</li>
</ul>
</div>
<div id="openair-24-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-24-0" class="anchor"></a>openair 2.4-0</h2>
<ul>
<li>use <code>lubridate</code> in <code>timeAverage</code> to improve speed / simplicity</li>
<li>make sure all strip colours are white for <code>openair</code> objects</li>
<li>fix bug in <code>polarPlot</code> when <code>statistic = "cpf"</code> when using tibbles</li>
<li>fix bug in <code>polarCluster</code> with exported data (date was not correctly merged to produce single date column)</li>
<li>convert internal <code>mydata</code> to a ‘tibble’ for easier printing.</li>
<li>allow <code>npoints = NA</code> in <code>trajPlot</code> to suppress plotting of interval points.</li>
<li>fix bias correction bug in <code>windRose</code> when ws/wd have different names</li>
<li>fix bug in <code>timeAverage</code> for wind direction (<code>wd</code>) when <code>statistic = "data.cap"</code>
</li>
<li>New built-in colour palette for the colour blind “cbPalette”. Note maximum number of colours is 8 e.g. <code>windRose(mydata, col = "cbPalette", breaks = 6)</code>. Thanks to Jerry Martin.</li>
</ul>
</div>
<div id="openair-23-0" class="section level2">
<h2 class="hasAnchor">
<a href="#openair-23-0" class="anchor"></a>openair 2.3-0</h2>
<ul>
<li>add option <code>plot</code> to <code>TheilSen</code>. <code>FALSE</code> can be useful when analysing data to extract the trend components and plot in otherways and when the <code>TheilSen</code> plot is not required.</li>
<li>add option <code>silent</code> to <code>TheilSen</code> to avoid printing updates to trend fitting. By default it is <code>FALSE</code>.</li>
<li>fix wrong ordering of names in <code>timeVariation</code> when more than one pollutant</li>
<li>fix date parsing issues in <code>selectByDate</code>.</li>
<li>fix wrong ordering in <code>timePlot</code>
</li>
<li>allow <code>calendarPlot</code> to span any time period. The function can now straddle parts of two years or several years.</li>
<li>add option <code>col.arrow</code> to <code>calendarPlot</code> to control colour of the wind speed / direction annotation arrows.</li>
</ul>
</div>
</div>
    <div id="openair-22-3" class="section level1">
<h1 class="page-header" data-toc-text="2.2-3">
<a href="#openair-22-3" class="anchor"></a>openair 2.2-3<small> 2018-02-26 </small>
</h1>
<div id="main-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#main-changes" class="anchor"></a>Main changes</h2>
<ul>
<li>refine <code>selectByDate</code> due to changes in <code>lubridate</code>
</li>
<li>fix issue with <code>importSAQN</code> when no data</li>
<li>remove site information from help of <code>importAURN</code> and point users to <code>importMeta</code>
</li>
<li>fixed bug in <code>scatterPlot</code> when <code>method = "level"</code> due to NSE</li>
<li>use <code>tidyr</code> in place of <code>reshape2</code>
</li>
<li>remove dependency of <code>plyr</code> and <code>reshape2</code>
</li>
<li>fix bug in <code>percentileRose</code> for <code>method = "cpf"</code> with multiple pollutants</li>
</ul>
</div>
</div>
    <div id="openair-21-5" class="section level1">
<h1 class="page-header" data-toc-text="2.1-5">
<a href="#openair-21-5" class="anchor"></a>openair 2.1-5<small> 2017-08-31 </small>
</h1>
<div id="main-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#main-changes-1" class="anchor"></a>Main changes</h2>
<ul>
<li>change <code>polarCluster</code> resolution to “normal” rather than “fine” to speed up.</li>
<li>fix regression when fitting smooth using <code>trajLevel</code>
</li>
<li>remove all Airbase functions, will be available via new package that also incorporates newer e-reporting data</li>
<li>fix bug in <code>timeAverage</code> when <code>statistic = "sum"</code> and all data in period was missing (would return 0 rather than <code>NA</code>)</li>
<li>make sure that same data used in all <code>conditionalEval</code> plots by using data where there are no missing data for all variables used. This is more important of <code>var.obs</code> and <code>var.mod</code> are supplied and hence additional variables are considered relative to only <code>obs</code> and <code>mod</code>.</li>
<li>fix date issues in <code>calendarPlot</code> to do with time zones</li>
<li>remove missing data when type is a numeric value split up into quantiles</li>
<li>fix bug in <code>windRose</code>/<code>pollutionRose</code> when two conditioning variables were given (problem in bias correction)</li>
</ul>
</div>
</div>
    <div id="openair-21-0" class="section level1">
<h1 class="page-header" data-toc-text="2.1-0">
<a href="#openair-21-0" class="anchor"></a>openair 2.1-0<small> 2017-04-12 </small>
</h1>
<div id="main-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#main-changes-2" class="anchor"></a>Main changes</h2>
<ul>
<li>add <code>angle</code> option to <code>percentileRose</code> to allow wind direction averages for sectors &gt;10 degrees.</li>
<li>fix bug in <code>aqStats</code> if only a few lines of data</li>
<li>allow <code>statistic</code> to equal “mean”, “median” or “frequency” in <code>scatterPlot</code>, when <code>method = "level"</code>
</li>
<li>change smoothing in <code>scatterPlot</code> when <code>method = "level"</code> to use tensor interaction to allow for better smoothing when x and y are on different scales.</li>
<li>warn when &gt;10% negative data detected in <code>polarPlot</code> and suggest setting <code>force.postive = FALSE</code>
</li>
<li>make <code>maps</code> Suggests rather than Depends</li>
<li>refine check on whether bias correction is needed in <code>windRose</code>
</li>
<li>still plot data when &lt;6 points in <code>TheilSen</code> and when no trend information is given</li>
<li>New function <code>binData</code> to easily summarise mean and 95% confidence intervals for intervals of a variable</li>
<li>Export <code>bootMeanDF</code>, used to calculate the bootstrap uncertainty in the mean of a vector.</li>
</ul>
</div>
</div>
    <div id="openair-20-0" class="section level1">
<h1 class="page-header" data-toc-text="2.0-0">
<a href="#openair-20-0" class="anchor"></a>openair 2.0-0<small> 2016-11-23 </small>
</h1>
<div id="main-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#main-changes-3" class="anchor"></a>Main changes</h2>
<ul>
<li>silence download progress by default in <code>importAURN</code>
</li>
<li>update <code>polarPlot</code> to work with pairwise statistics to compare two pollutants. The function can consider Pearson correlation and slopes from ordinary linear regression, robust regression (using <strong>MASS</strong> function <code>rlm</code>) and quantile regression (requires the <strong>quantreg</strong> package to be installed). See <a href="http://www.sciencedirect.com/science/article/pii/S1352231016307166">open access version</a> of the paper.</li>
<li>change default <code>polarPlot</code> plot resolution to “fine”.</li>
<li>fix <code>windRose</code> problem with some data due to missings</li>
<li>move <code>mapdata</code> package to Suggests</li>
<li>add option to return meta data (site type, lat, lon) from <code>importAURN</code> and <code>importKCL</code>.</li>
<li>fix statistic = “weighted.mean” issue in <code>polarPlot</code>.</li>
<li>make sure <code>y.relation</code> is used when there is no grouping in <code>timePlot</code>. To retain the behaviour of earlier versions use <code>relation = "free"</code>
</li>
<li>fix issue with <code>type</code> when used with <code>timeProp</code>
</li>
<li>fix bias correction when not default type in <code>windRose</code>
</li>
<li>fix pch colour bug in <code>timePlot</code>
</li>
<li>add option <code>alpha</code> to <code>polarPlot</code> to control transparency of plotted surface. Mostly useful for overlaying polar plots on leaflet maps (see <a href="https://github.com/davidcarslaw/openairmaps">openairmaps</a> package)</li>
<li>enhance <code>grid.line</code> option in <code>windRose</code> so that users can control grid spacing, line type and line colour</li>
</ul>
</div>
</div>
    <div id="openair-19-9" class="section level1">
<h1 class="page-header" data-toc-text="1.9-9">
<a href="#openair-19-9" class="anchor"></a>openair 1.9-9<small> Unreleased </small>
</h1>
<div id="main-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#main-changes-4" class="anchor"></a>Main changes</h2>
<ul>
<li>correct citation information</li>
<li>Now depends on R version of &gt;= 3.2.0 so that <code>download.file</code> can use <code>libcurl</code> for access to https (used in <code>importAURN</code>)</li>
<li>add <code>avg.time</code> option to <code>summaryPlot</code> to control the averaging times of the time series lines and <code>print.datacap</code> to control whether the data capture % is shown for each interval.</li>
<li>fix bug in <code>selectByDate</code> where a day number would not work</li>
<li>remove arrows in <code>windRose</code>, <code>polarPlot</code> to avoid ambiguous interpretation of wind direction</li>
<li>add <code>key.position</code> option to <code>timePlot</code> to control the location of the key.</li>
<li>fix labels in <code>timeVariation</code> when data for some types is missing.</li>
<li>fix <code>trendLevel</code> issue due to <code>dplyr</code>
</li>
<li>use <code>lubridate</code> package in <code>timeAverage</code>
</li>
<li>fix bug in <code>summaryPlot</code> related to <code>dplyr</code> use (would not plot missings correctly)</li>
<li>better handling of precision in <code>windRose</code> mean and statistics returned in data (thanks to Dr Ulrich Quass)</li>
<li>fix bug in <code>importKCL</code> when incomplete time series (would drop site code and site name)</li>
<li>fix bug in <code>pollutionRose</code> due to issue with calms</li>
<li>fix bug in <code>smoothTrend</code> where model uncertainties were not returned</li>
<li>fix bug in <code>summaryPlot</code> where missings would not be shown correctly when date was not ordered in sequence</li>
<li>fix annotation in <code>windRose</code> when comparing two data sets</li>
<li>
<code>GoogleMapsPlot</code> is deprecated and will be replaced with a better function.</li>
</ul>
</div>
</div>
    <div id="openair-18-6" class="section level1">
<h1 class="page-header" data-toc-text="1.8-6">
<a href="#openair-18-6" class="anchor"></a>openair 1.8-6<small> 2016-06-15 </small>
</h1>
<ul>
<li>Only plot lower triangle for <code>corPlot</code>
</li>
<li>make sure date class is POSIXct, POSIXt in <code>importAURN</code>
</li>
<li>fix problem in <code>importMeta</code> for AURN - change in database source format</li>
<li>fix <code>pollutionRose</code> plot warning</li>
<li>fix NMB in <code>modStats</code>
</li>
<li>fix bug in <code>timeAverage</code> where estimating the time interval in input data could be unreliable due to low data availability</li>
<li>fix time expansion bug in <code>timeAverage</code>
</li>
<li>add new <code>type</code> “yearseason” (or “seasonyear”). This will split data by every year / season combination, making sure the seasons are contiguous. For example, in winter in the northern hemisphere December 2010 will be considered part of winter 2011, rather than winter 2010. Thanks to Ralf Weisse for the suggestion.</li>
<li>fix download issues with <code>importAURN</code> and <code>importMeta</code> when users are within an organisational network. Problems likely due to move from http to https and SSL Certificates.</li>
<li>fix <code>TheilSen</code> bug when two types.</li>
</ul>
</div>
    <div id="openair-18-2" class="section level1">
<h1 class="page-header" data-toc-text="1.8-2">
<a href="#openair-18-2" class="anchor"></a>openair 1.8-2<small> 2016-04-25 </small>
</h1>
<ul>
<li>fixes for new version of <code>dplyr</code>
</li>
<li>adjust legends in <code>conditionalEval</code> to avoid plot error.</li>
<li>fix problem on linux and simplify <code>importAURN</code>
</li>
<li>update <code>importAURN</code> meta data in help function.</li>
</ul>
</div>
    <div id="openair-18-0" class="section level1">
<h1 class="page-header" data-toc-text="1.8-0">
<a href="#openair-18-0" class="anchor"></a>openair 1.8-0<small> 2016-03-24 </small>
</h1>
<ul>
<li>Allow <code>scatterPlot</code> to have control over plot symbol fill and colour (for symbols 21 to 25). Use <code>cols</code> and <code>fill</code> to control.</li>
<li>
<code>scatterPlot</code> can now fit more than one linear equation when there is a grouping variable</li>
<li>give message when using a users’ own <code>type</code> such as month, year etc.</li>
<li>fix ordering of bars on <code>timeProp</code>, remove <code>box.width</code> option</li>
<li>fix bug introduced in 1.7-4 that affected <code>windRose</code> bias correction (thanks to Eric Christensen)</li>
<li>Add option for <code>statistic = "r"</code> in <code>polarPlot</code> for comparing polar plot correlation surfaces between two pollutants using Gaussian kernel weighting.</li>
<li>fix bug in <code>type = "daylight"</code> when time zone not UTC.</li>
<li>remove <code>cutDaylight</code> as a separate function (<code>cutData</code> works for everything)</li>
<li>add <code>w.shift</code> option to <code>calendarPlot</code> to control the first day of the week and subsequent order (thanks to Giovanni Bonafè)</li>
</ul>
</div>
    <div id="openair-173" class="section level1">
<h1 class="page-header" data-toc-text="1.7.3">
<a href="#openair-173" class="anchor"></a>openair 1.7.3<small> Unreleased </small>
</h1>
<ul>
<li>Fix regression in <code>timeAverage</code> when expanding time series</li>
<li>Remove <code>dplyr</code> warnings in <code>TheilSen</code>
</li>
<li>Keep season order correct when averaging time is season and <code>type = "season"</code> in <code>TheilSen</code> and <code>smoothTrend</code>
</li>
<li>add origin marker to <code>trajCluster</code>
</li>
<li>better date padding when &gt;1 type</li>
<li>fix some <code>dplyr</code> bugs where some functions would fail with two types</li>
<li>retrun data frame of cluster information in <code>trajCluster</code>
</li>
</ul>
</div>
    <div id="openair-17" class="section level1">
<h1 class="page-header" data-toc-text="1.7">
<a href="#openair-17" class="anchor"></a>openair 1.7<small> 2016-02-22 </small>
</h1>
<ul>
<li>Allow <code>linearRelation</code> to use any arbitrary time averaging period.</li>
<li>don’t add line to monthly plot in <code>timeVariation</code> when group = “season”</li>
<li>fix <code>NA</code> factors in <code>trajPlot</code>
</li>
<li>make border black when using maps for improved clarity</li>
<li>fix bug in <code>trajPlot</code> that sometimes failed to print map when grouping</li>
<li>add percentage total trajectories for <code>trajCluster</code> and option <code>by.type</code>
</li>
<li>don’t touch existing date-based types in <code>cutData</code>
</li>
<li>refine date checks</li>
<li>speed up <code>timeAverage</code>
</li>
<li>new dependent package <code>lubridate</code> for easier / faster date-time manipulations</li>
<li>fix slow <code>timeProp</code> (lattice <code>panel.barchart</code> is very slow)</li>
<li>only remove missing wind speed in <code>windRose</code> (wd can be <code>NA</code> and ws zero i.e. calm)</li>
<li>correct order of labels in <code>timeVariation</code> when <code>difference = TRUE</code> for some factor levels (were in alphabetical)</li>
</ul>
</div>
    <div id="openair-166" class="section level1">
<h1 class="page-header" data-toc-text="1.6.6">
<a href="#openair-166" class="anchor"></a>openair 1.6.6<small> Unreleased </small>
</h1>
<ul>
<li>Not all labels shown if &gt;25 in <code>trendLevel</code>; make sure strip is white</li>
<li>correct bug in <code>timeVariation</code> (<code>vector.ws</code> did not work)</li>
<li>fix some cases where background strip was not white</li>
</ul>
</div>
    <div id="openair-165" class="section level1">
<h1 class="page-header" data-toc-text="1.6.5">
<a href="#openair-165" class="anchor"></a>openair 1.6.5<small> 2015-11-04 </small>
</h1>
<ul>
<li>changes to fix examples not run during the R CMD check</li>
<li>make <code>TaylorDiagram</code> more flexible when using two groups and the second is date-based</li>
</ul>
</div>
    <div id="openair-164" class="section level1">
<h1 class="page-header" data-toc-text="1.6.4">
<a href="#openair-164" class="anchor"></a>openair 1.6.4<small> 2015-10-23 </small>
</h1>
<ul>
<li>fix bug in <code>GoogleMapsPlot</code> when pollutant not given</li>
<li>don’t clutter up working directory with <code>GoogleMapsPlot</code>; write to temporary file instead</li>
<li>fix bug when trying to access multiple sites with no data in</li>
<li>fix problem with mutiple sites in <code>aqStats</code>
</li>
<li>
<code>TheilSen</code> should always give trend in units/year (would use xlab if supplied)</li>
<li>fix <code>cutData</code> bug where quantile cuts are made</li>
<li>don’t remove missings in <code>scatterPlot</code> so that factors with no data still shown</li>
<li>
<code>TheilSen</code> should always give trend in units/year (would use xlab if supplied)</li>
<li>New option <code>slope.text</code> in <code>TheilSen</code> to allow users to add their own text i.e. not the default “units/year”</li>
<li>refine check on DST</li>
<li>Always report data capture % in <code>aqStats</code>
</li>
</ul>
</div>
    <div id="openair-16" class="section level1">
<h1 class="page-header" data-toc-text="1.6">
<a href="#openair-16" class="anchor"></a>openair 1.6<small> 2015-07-23 </small>
</h1>
<ul>
<li>Don’t force integer results for <code>importAURN</code>
</li>
<li>fix bug with <code>period = "months"</code> in <code>summaryPlot</code>
</li>
<li>allow linear fit with <code>method = "hexbin"</code> in <code>scatterPlot</code>
</li>
<li>allow users to define own map limits in trajectory functions and better scaled map grids</li>
<li>fix renaming bug in <code>airbaseStats</code>
</li>
<li>bug in <code>windRose</code> when all calm</li>
<li>date bug fixes in <code>scatterPlot</code>
</li>
<li>add option <code>windflow</code> to <code>scatterPlot</code> and <code>timePlot</code> to allow wind flow plots</li>
<li>suppress harmless warnings in <code>smoothTrend</code>
</li>
<li>fix bug in some functions when type more than one</li>
<li>add support in <code>pollutionRose</code> for option <code>normalise</code> to show probability by wind sector (0 to 1).</li>
<li>
<code>timeAverage</code> now has an option <code>type</code> similar to other functions. A common use would be to apply <code>timeAverage</code> to a data frame with multiple sites where there is a column representing site name e.g. <code>type = "site"</code>.</li>
<li>Add receptor location for trajectory plots <code>trajLevel</code> and <code>trajPlot</code>.</li>
<li>Add an option <code>trend</code> to <code>TheilSen</code> to control how the trend lines are drawn.</li>
<li>fix bug in <code>calendarPlot</code> when partial month available</li>
<li>fix bug in <code>calendarPlot</code>, don’t need to cut data first</li>
<li>add <code>npoints</code> option to <code>trajPlot</code> to control time spacing of dots shown on back trajectories</li>
<li>don’t include missings when <code>statistic = "frequency</code> in <code>timeAverage</code>
</li>
<li>fix bug in <code>timeProp</code> due to point above</li>
<li>fix bug in <code>timeVariation</code> with <code>type = "season"</code> when space in pollutant name</li>
</ul>
</div>
    <div id="openair-15" class="section level1">
<h1 class="page-header" data-toc-text="1.5">
<a href="#openair-15" class="anchor"></a>openair 1.5<small> 2015-04-14 </small>
</h1>
<ul>
<li>Add ‘days’ as a time unit to <code>summaryPlot</code> - useful for shorter time series</li>
<li>Initial changes to use <code>dplyr</code> to speed up some of the code e.g. <code>timeAverage</code>
</li>
<li>Automate <code>x.inc</code> and <code>y.inc</code> if not supplied by user in <code>scatterPlot</code>
</li>
<li>Fix regression in <code>trajLevel</code> frequency calculation</li>
<li>Fix a few problems with trajectory plotting - some methods would fail given recent updates</li>
<li>Make trajectory gridded analysis faster</li>
<li>Fix bug in <code>importMeta</code> introduced since using <code>dplyr</code>
</li>
<li>Add <code>angle.scale</code> to <code>windRose</code> to control placement of radial scale (helps to avoid clash with wind rose paddles)</li>
<li>Fix bug in <code>timePlot</code> when <code>avg.time</code> given (regression)</li>
<li>Allow <code>TaylorDiagram</code> to have <code>group</code> of length two. This will show all group combinations but will only differentiate them by colour/symbol according to the first grouping variable.</li>
<li>
<code>timeVariation</code> can now take a <code>ylim</code> list to control the y-limits on each individual plot</li>
<li>For trajectory plotting allow <code>map.res</code> to be “state” to show the US States.</li>
<li>Fix bug in <code>importKCL</code> when date was not at beginning of the year</li>
</ul>
</div>
    <div id="openair-11" class="section level1">
<h1 class="page-header" data-toc-text="1.1">
<a href="#openair-11" class="anchor"></a>openair 1.1<small> Unreleased </small>
</h1>
<ul>
<li>Add ref.y option to <code>timeVariation</code> for y references line(s)</li>
<li>Fix type = “wd” labelling to <code>corPlot</code>
</li>
<li>Refine airbaseStats to include site type and city by default</li>
<li>Make trendLevel colour scaling consistent with other functions and allow missing data to be shown in different colour</li>
<li>Allow categorical scales in trendLevel</li>
<li>Fix type = ‘season’ in <code>trajLevel</code> (winter period not properly calculated)</li>
<li>Allow multiple reference lines to be added to <code>timePlot</code>, <code>scatterPlot</code>, <code>timeVariation</code> and add to <code>smoothTrend</code> together with full control of their properties. Note - ref.x and ref.y must now be lists; see help file for details.</li>
<li>Don’t open graphics window in aqStats</li>
<li>Add more flexibility to <code>timeAverage</code> for irregular time intervals</li>
<li>Add 12-hour interval points on back trajectory lines</li>
<li>Fix bug in <code>percentileRose</code> with stat = “cpf” and non-default type (now uses single percentile based on all data, not each panel)</li>
<li>Check if date is in POSIXt format and throw error if TRUE</li>
<li>Improve date checks in selectByDate</li>
<li>Add dendrogram option to <code>corPlot</code> (thanks to James Durant for the suggestion)</li>
<li>Remove strip in <code>corPlot</code> when type = “default”</li>
<li>Remove statistic description in <code>pollutionRose</code> when annotate = FALSE.</li>
<li>Fix colour scaling bug in <code>scatterPlot</code>/<code>trajPlot</code> when user limits supplied</li>
<li>Check period = “years” or “months” in <code>summaryPlot</code>; some users supplied “year” resulting in incorrect statistics</li>
<li>Give mean and percent calm in <code>pollutionRose</code> when statistic = “prop.mean” (was erroneously percentage)</li>
<li>getMet function for downloading Hysplit met files in manual did not download as binary files; now corrected</li>
<li>Add name.pol argument to <code>smoothTrend</code> for more control over names used for plotting</li>
<li>Show first few dates when import fails to apply correct date format (helps to provide a clue as to actual date format)</li>
<li>Updates to trajectory plots to allow for different map projections using the mapproj package (new dependency)</li>
<li>Fix trajectory frequency calculation - underestimated frequencies.</li>
</ul>
</div>
    <div id="openair-10-0" class="section level1">
<h1 class="page-header" data-toc-text="1.0-0">
<a href="#openair-10-0" class="anchor"></a>openair 1.0-0<small> Unreleased </small>
</h1>
<ul>
<li>Pass all arguments in <code>corPlot</code>
</li>
<li>Enhance <code>timeVariation</code> to consider median + quantiles through option ‘statistic’</li>
<li>Do not remove NA results from modStats</li>
<li>Better scaling in polarCluster; consitent with <code>polarPlot</code>
</li>
<li>Fix <code>importKCL</code> where dates were filled if two non contiguous years were chosen</li>
<li>Refine scaling of ws in <code>polarPlot</code> when upper is set</li>
<li>Fix bug when type = “weekday” but not all days of the week are present</li>
<li>Add annotate option to TaylorDiagram</li>
<li>Allow modStat statistics to be chosen by user and add Index of Agreement</li>
<li>Needs to be &gt;24 months to deseason in <code>smoothTrend</code>/<code>TheilSen</code> (was &gt;=)</li>
<li>Refine names returned by importADMS when used with .pst file</li>
<li>Fix trajectory code in appendix D in the manual (some function arguments were not passed)</li>
<li>Better user defined limits scaling in <code>polarPlot</code>, <code>scatterPlot</code>, polarAnnulus when limits within data range</li>
<li>Clarify time zone for importing data to openair and checking (see manual for details)</li>
<li>Initial versions of functions to import EEA airbase data - see newsletter/manual for details</li>
<li>Better treatment of daylight saving time in cutData, <code>timeVariation</code> and polarAnnulus (allow any local time zone to be used; was just GMT/BST befote)</li>
<li>Remove existing date-based columns in cutData to ensure date is used instead</li>
<li>Allow users to shade/not shade alternate years in <code>smoothTrend</code> and <code>TheilSen</code>
</li>
<li>Do not smooth <code>percentileRose</code> by wind direction by default.</li>
<li>Add option ‘wd’ to <code>percentileRose</code>
</li>
<li>Fix <code>trajPlot</code> bug when trajectory data was not at 3-hour intervals</li>
<li>Return data and smooth fit information in <code>smoothTrend</code>
</li>
</ul>
</div>
    <div id="openair-09-0" class="section level1">
<h1 class="page-header" data-toc-text="0.9-0">
<a href="#openair-09-0" class="anchor"></a>openair 0.9-0<small> 2013-11-12 </small>
</h1>
<ul>
<li>Fix bug introduced in 0.8-0 for <code>scatterPlot</code> surfaces</li>
<li>Add statistic and percentile option to polarAnnulus; allow Conditional Probability Functions</li>
<li>Allow percentile intervals to be considered in <code>polarPlot</code> when statistic = “cpf”</li>
<li>Correct calculation of AOT40 in aqStats to take account of daylight hours and growing season (Apr. to Sep.). Can use latitude/longitude, if supplied</li>
<li>Fix bug in aqStats when non predefined pollutant used</li>
<li>Allow log10 factor of 2 lines in <code>scatterPlot</code> when x and/or y are on a log scale</li>
<li>Allow users to supply own transform/inverse functions to hexbin</li>
<li>Don’t try and pad-out missing data in rollingMean when returning results</li>
<li>Make latticeExtra a ‘depends’</li>
<li>Don’t copy-down data by default in <code>timeAverage</code> when requested averaging time is &lt; original. Better handling when ‘site’ is present</li>
<li>Update AURN help file site information; add site type</li>
<li>Show where data removed when min.bin &gt; 1 for <code>polarPlot</code>
</li>
<li>Add ‘trim’ value to percentiles in <code>polarPlot</code> to extract more source information.</li>
<li>Add ‘weights’ argument to <code>polarPlot</code> to down-weight bins with few data points - alternative to min.bin</li>
<li>Use more wd sectors for surface modelling when wd is not already rounded to 10 degree intervals in <code>polarPlot</code>
</li>
<li>Fix bug in <code>timePlot</code> when pch supplied and group = TRUE.</li>
<li>Add Air Quality Standard for O3 in aqStats (days &gt;120 ug/m3) not to be exceeded more than 10 days a year.</li>
<li>Add max.freq option to <code>windRose</code>/<code>pollutionRose</code> to control extent of radial limits</li>
<li>Add map.res option to <code>trajPlot</code> and <code>trajLevel</code> and make default lower resolution. Make default pollutant ‘height’ (always present)</li>
<li>Add Oslo and Rotterdam to trajectory database for 2010-2012</li>
<li>Better limits control on <code>calendarPlot</code>, use first year if not supplied, add option month to allow only selected month(s)</li>
<li>Fix bug when type = “wd” and some are missing (remove them)</li>
<li>Don’t open up graphic window in <code>timeAverage</code>
</li>
<li>Fix indexing problem in polarCluster which sometimes caused the function to trip up</li>
<li>Only plot full length trajectories in <code>trajPlot</code>
</li>
<li>Allow smoothing parameter k to be used when smooth = TRUE for more control in <code>scatterPlot</code>
</li>
<li>Add a bias correction to <code>windRose</code> (thanks to Philippe Barneoud from Environment Canada for pointing out the need and solution)</li>
<li>Better treatment of <code>pollutionRose</code> when comparing two met datasets when ws bias is zero</li>
<li>Fix conditionalEval to use COE, not IOA and other minor changes</li>
<li>Allow method = “density” in <code>trajLevel</code>
</li>
</ul>
</div>
    <div id="openair-08-0" class="section level1">
<h1 class="page-header" data-toc-text="0.8-0">
<a href="#openair-08-0" class="anchor"></a>openair 0.8-0<small> 2013-02-13 </small>
</h1>
<ul>
<li>make sure missing dates are plotted properly in <code>scatterPlot</code>
</li>
<li>fix regression in <code>corPlot</code> - main did not work</li>
<li>remove time zone options in import - users must supply data in GMT (UTC). Too many problems introduced due to daylight saving time</li>
<li>Use Legates and McCabe Coefficient of Efficiency in modStats in place of the Index of Agreement - easier to interpret.</li>
<li>Allow type = “month” etc to be used in <code>timeVariation</code> (was variable clash). Allow more flexibility when group and type are used</li>
<li>Better handling of user-defined limits in <code>polarPlot</code> and <code>scatterPlot</code> (method = “level”)</li>
<li>Add optional mean line option to <code>percentileRose</code>.</li>
<li>Correct <code>pollutionRose</code> documentation about comparing 2 data sets (first subtracted from second)</li>
<li>Fix bug in <code>timeVariation</code> that showed extra NA level for certain groups/types</li>
<li>Fix scaling bug in polarCluster when there is negative data e.g. x = “temp”</li>
<li>Allow statistic = “median” in <code>trajLevel</code>
</li>
<li>NEW FUNCTION timeProp to plot time series by category as a barchart</li>
<li>Fix <code>windRose</code> bug when wind direction name was not wd</li>
<li>Fix bug in <code>importAURN</code> when pollutant = “all” was specified</li>
<li>Allow minimum value of breaks in ws to be above minimum ws value, but warn.</li>
<li>Allow day to be numeric in selectByDate to select days of the month</li>
<li>Better base maps with trajectory plotting (filled and alpha transparency)</li>
<li>Fix <code>windRose</code> bug where all data are missing</li>
<li>Use higher resolution mapdata not maps package for trajectory plots</li>
<li>Allow method = “hexbin” in <code>trajLevel</code> for hexagonal binning of trajectory frequencies</li>
<li>Refine rollingMean to allow moving window to be aligned centre/center, left or right + better treatment of ends when data capture threshold used. Use option ‘width’ rather than ‘hours’ because non-hourly data can be considered.</li>
<li>Fix <code>pollutionRose</code> scaling issue, which sometimes missed the lower interval</li>
<li>Fix <code>timeAverage</code> data capture issue - was not always setting data to NA</li>
<li>Output clusters as C1, C2 etc. not 1, 2.</li>
<li>Use same labelling in <code>calendarPlot</code> as other functions (wrong month order in non-English locales)</li>
<li>Export dendogram in <code>corPlot</code> - see example in help file</li>
<li>Fix scaling bug in <code>polarPlot</code> when radial variable was negative and small</li>
<li>Update ‘mydata’ to set negative data to NA</li>
<li>Add method = CPF to percentile rose and <code>polarPlot</code>
</li>
<li>Update trajectory analysis to allow Potential Source Contribution Function (PSCF) and Concentration Weighted Trajectory (CWT) to be considered</li>
</ul>
</div>
    <div id="openair-07-0" class="section level1">
<h1 class="page-header" data-toc-text="0.7-0">
<a href="#openair-07-0" class="anchor"></a>openair 0.7-0<small> 2012-09-19 </small>
</h1>
<ul>
<li>Allow more flexible layout when two or more pollutants are used with <code>polarPlot</code> and type is default</li>
<li>Fix colour scale problem for <code>windRose</code> when interval does not exist</li>
<li>Added ‘nativeRaster’ class handler for GoogleMapsPlots</li>
<li>(test) Fix for GoogleMapsPlot xlim, ylim</li>
<li>Do not remove missing data from <code>timeVariation</code>
</li>
<li>Fix bug in FAC2 in modStats when observations = 0 (exclude from calculation because indeterminate)</li>
<li>Fix bug in <code>windRose</code> for empty panels and panel labelling when data missing</li>
<li>New option start.day in cutData that affects most plots; allows users to set start day when type = “weekday”</li>
<li>Allow categorical scales in <code>calendarPlot</code>
</li>
<li>Allow two met data sets to be compared in <code>pollutionRose</code>
</li>
<li>Allow statistic = “percentile” to be used with <code>polarPlot</code>
</li>
<li>Allow ‘method’ to be passed to cor in <code>corPlot</code>
</li>
<li>Added more back trajectory locations.</li>
<li>Try harder to plot <code>polarPlot</code>s when there is insufficent data to calculate a smooth surface.</li>
<li>Rename some variables in <code>timeAverage</code> to avoid variable clash.</li>
<li>Add gridded frequency capability to <code>trajLevel</code>
</li>
<li>Fix bug in colour scaling in polarFreq when statistic = “stdev” (0 would not be plotted)</li>
<li>Fix bug in <code>summaryPlot</code>: type = “density” broken in recent versions</li>
</ul>
</div>
    <div id="openair-06-0" class="section level1">
<h1 class="page-header" data-toc-text="0.6-0">
<a href="#openair-06-0" class="anchor"></a>openair 0.6-0<small> 2012-05-11 </small>
</h1>
<ul>
<li>Add y.relation option to <code>timePlot</code>
</li>
<li>Fix interpolation bug in calcFno2 and names in documentation.</li>
<li>Refine conditionalQuantile scales</li>
<li>Provide volatile and non-volatile components for FDMS PM10 and PM2.5 in <code>importKCL</code> - now consistent with <code>importAURN</code>
</li>
<li>NEW FUNCTION conditionalEval for model evaluation - allows other variable performance to be assessed.</li>
<li>Make lattice strips white by default for cleaner look on complicated plots</li>
<li>Complete re-write of import to simplify - changes are NOT backward compatible but will allow more developments</li>
<li>Allow line breaks in titles using \n to work woth quickText
<ul>
<li>thanks to Karl</li>
</ul>
</li>
<li>Allow better annotation of <code>calendarPlot</code> - highlight values above/below a certain threshold.</li>
</ul>
</div>
    <div id="openair-05-25" class="section level1">
<h1 class="page-header" data-toc-text="0.5-25">
<a href="#openair-05-25" class="anchor"></a>openair 0.5-25<small> 2012-03-19 </small>
</h1>
<ul>
<li>Fix bug when type = “wd” - would add missing data to north sector</li>
<li>Add observed histogram to conditionalQuantile</li>
<li>Fix bug in <code>timeAverage</code> when ws was not available but wd was</li>
<li>Temporaryfix to GoogleMapsPlot documentation due to new package version</li>
</ul>
</div>
    <div id="openair-05-23" class="section level1">
<h1 class="page-header" data-toc-text="0.5-23">
<a href="#openair-05-23" class="anchor"></a>openair 0.5-23<small> 2012-03-05 </small>
</h1>
<ul>
<li>Fix bug in <code>windRose</code> when paddle = FALSE</li>
</ul>
</div>
    <div id="openair-05-22" class="section level1">
<h1 class="page-header" data-toc-text="0.5-22">
<a href="#openair-05-22" class="anchor"></a>openair 0.5-22<small> Unreleased </small>
</h1>
<ul>
<li>Fix scaling bug that could sometime affect <code>polarPlot</code> grid lines</li>
<li>Fix regression in <code>importKCL</code> that was intruduced in 0.5-21</li>
<li>Make sure wd data are rounded to 10 degrees in polarFreq</li>
<li>Fix date padding issue in <code>smoothTrend</code> when type = “site”</li>
<li>
<code>windRose</code> now gives mean ws in each panel rather than count</li>
<li>add otion date.format to <code>timePlot</code> for more control over date format on axis</li>
</ul>
</div>
    <div id="openair-05-21" class="section level1">
<h1 class="page-header" data-toc-text="0.5-21">
<a href="#openair-05-21" class="anchor"></a>openair 0.5-21<small> 2012-02-22 </small>
</h1>
<ul>
<li><p>Use C++ code for rolling mean calcs. Much faster, more to follow</p></li>
<li><p>NEW function trajCluster to carry out cluster analysis on back trajectories</p></li>
<li>
<p>Simple model ranking available in modStats</p>
<h1 id="changes-in-openair-05-18-2012-01-16" class="page-header" data-toc-text="0.5-21">Changes in openair 0.5-18 [2012-01-16]<small> 2012-02-22 </small>
</h1>
</li>
<li><p>Update trajectory files to 2011 and add Berlin, Paris</p></li>
<li><p>Add option seg to <code>pollutionRose</code> to control the width of the segments</p></li>
<li><p>Add option start.day to <code>timeVariation</code> to control the order of weekdays.</p></li>
<li><p>Fixed bug in polarAnnulus where 360 degree winds were absent.</p></li>
<li><p>Remove dependency on zoo and proto.</p></li>
<li><p>Allow <code>importAURN</code> to import new ws/wd from pre-calculated WRF data at AURN sites</p></li>
</ul>
</div>
    <div id="openair-05-17" class="section level1">
<h1 class="page-header" data-toc-text="0.5-17">
<a href="#openair-05-17" class="anchor"></a>openair 0.5-17<small> Unreleased </small>
</h1>
<ul>
<li>Update to [IN DEVELOPMENT] GoogleMapsPlot. (1 lat,lon default handling)</li>
</ul>
</div>
    <div id="openair-05-15" class="section level1">
<h1 class="page-header" data-toc-text="0.5-15">
<a href="#openair-05-15" class="anchor"></a>openair 0.5-15<small> Unreleased </small>
</h1>
<ul>
<li>Update imports etc.</li>
</ul>
</div>
    <div id="openair-05-15-1" class="section level1">
<h1 class="page-header" data-toc-text="0.5-15">
<a href="#openair-05-15-1" class="anchor"></a>openair 0.5-15<small> Unreleased </small>
</h1>
<ul>
<li>Update to [IN DEVELOPMENT] GoogleMapsPlot.</li>
<li>Tidy up calcFno2 plotting.</li>
<li>Improve speed of <code>timeAverage</code> by removing date.pad.</li>
<li>Add vector averaging option to <code>timeAverage</code> for wind speed.</li>
</ul>
</div>
    <div id="openair-05-14" class="section level1">
<h1 class="page-header" data-toc-text="0.5-14">
<a href="#openair-05-14" class="anchor"></a>openair 0.5-14<small> Unreleased </small>
</h1>
<ul>
<li><p>NEW FUNCTION polarCluster for undertaking k-means clustering of bivariate polar plots</p></li>
<li><p>Remove any considerations of time zones in selectByDate. If start and end are supplied, whole days based on Date format are used to select. Now accepts start/end in the form “YYYY-mm-dd” as well as UK format e.g. dd/mm/YYYY.</p></li>
</ul>
</div>
    <div id="openair-05-13" class="section level1">
<h1 class="page-header" data-toc-text="0.5-13">
<a href="#openair-05-13" class="anchor"></a>openair 0.5-13<small> Unreleased </small>
</h1>
<ul>
<li>Major update to <code>polarPlot</code> allowing variables other than “ws” to be plotted with wind direction.</li>
<li>Improve documentation for <code>polarPlot</code>/TaylorDiagram</li>
<li>Update openair citation information to Journal article</li>
</ul>
</div>
    <div id="openair-05-12" class="section level1">
<h1 class="page-header" data-toc-text="0.5-12">
<a href="#openair-05-12" class="anchor"></a>openair 0.5-12<small> Unreleased </small>
</h1>
<ul>
<li>do not clip <code>polarPlot</code> concentrations unless upper is supplied</li>
<li>new option ‘intervals’ for <code>percentileRose</code>
</li>
<li>add min.bin option to polarAnnulus</li>
<li>add Index of Agreement to modStats</li>
<li>new averaging time “season” for <code>timeAverage</code>
</li>
<li>better treatment of avg.time = “season” and type = “season” in <code>TheilSen</code> and <code>smoothTrend</code>
</li>
<li>use bootstrap methods to calculate 95% confidence intervals in the mean for <code>timeVariation</code>
</li>
<li>New option ‘difference’ in <code>timeVariation</code> to show difference between two variables with bootstrap 95% CI in the mean</li>
<li>Byte-compile package</li>
<li>Place key on right be default in <code>scatterPlot</code> to avoid clash with x or y axis labels.</li>
<li>Include all colour schemes defined in the RColorBrewer package</li>
</ul>
</div>
    <div id="openair-05-11" class="section level1">
<h1 class="page-header" data-toc-text="0.5-11">
<a href="#openair-05-11" class="anchor"></a>openair 0.5-11<small> 2011-10-05 </small>
</h1>
<ul>
<li>update to <code>corPlot</code>, <code>scatterPlot</code>, <code>smoothTrend</code>, linearRelation, <code>percentileRose</code>, <code>trajPlot</code>, <code>trajLevel</code>, <code>timeVariation</code>, TaylorDiagram, <code>timePlot</code>, <code>summaryPlot</code> improved … handling</li>
<li>remove warnings when importing air pollution data</li>
<li>additional update to <code>corPlot</code> added pollutant option, and openair class output</li>
<li>tweak scaling on <code>percentileRose</code> deal with negative data</li>
<li>change MannKendall to use <code>TheilSen</code> for all estimates for consistency. May slightly affect some p estimates.</li>
</ul>
</div>
    <div id="openair-05-10" class="section level1">
<h1 class="page-header" data-toc-text="0.5-10">
<a href="#openair-05-10" class="anchor"></a>openair 0.5-10<small> Unreleased </small>
</h1>
<ul>
<li>update to <code>calendarPlot</code>, kernelExceed, MannKendall and conditionalQuantile improved … handling</li>
<li><div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  minor update to GoogleMapsPlot</span></code></pre></div></li>
</ul>
</div>
    <div id="openair-05-9" class="section level1">
<h1 class="page-header" data-toc-text="0.5-9">
<a href="#openair-05-9" class="anchor"></a>openair 0.5-9<small> Unreleased </small>
</h1>
<ul>
<li>allow model performance change to be considered in TaylorDiagram</li>
<li>update to <code>windRose</code> and <code>pollutionRose</code> stat related annotation</li>
<li>update to <code>polarPlot</code>, ploarFreq and polarAnnulus improved … handling</li>
</ul>
</div>
    <div id="openair-05-8" class="section level1">
<h1 class="page-header" data-toc-text="0.5-8">
<a href="#openair-05-8" class="anchor"></a>openair 0.5-8<small> Unreleased </small>
</h1>
<ul>
<li>NEW FUNCTION <code>importMeta</code> to import site meta data from air pollution networks</li>
</ul>
</div>
    <div id="openair-05-7" class="section level1">
<h1 class="page-header" data-toc-text="0.5-7">
<a href="#openair-05-7" class="anchor"></a>openair 0.5-7<small> Unreleased </small>
</h1>
<ul>
<li>update to trendLevel: improved … handling</li>
<li>update to <code>windRose</code>/<code>pollutionRose</code>: added statistic option “abs.count”; improved scaling of segment widths; improved … handling</li>
</ul>
</div>
    <div id="openair-05-6" class="section level1">
<h1 class="page-header" data-toc-text="0.5-6">
<a href="#openair-05-6" class="anchor"></a>openair 0.5-6<small> Unreleased </small>
</h1>
<ul>
<li>NEW FUNCTIONS importTraj, <code>trajPlot</code>, <code>trajLevel</code> for importing and plotting pre-defined HYSPLIT back trajectories. These functions are under active development and are for testing purposes only!</li>
<li>Fix error in % upper/lower uncertainty intervals for MannKendall</li>
<li>More control over trend information placement for MannKendall
<ul>
<li>arguments text.col, lab.frac (for vertical position) and lab.cex (for font size)</li>
</ul>
</li>
</ul>
</div>
    <div id="openair-05-4" class="section level1">
<h1 class="page-header" data-toc-text="0.5-4">
<a href="#openair-05-4" class="anchor"></a>openair 0.5-4<small> Unreleased </small>
</h1>
<ul>
<li>Use roxygen2 for package documentation and future maintainability</li>
<li>Allow splitByDate to handle mutiple sites and output a new column controlled by argument ‘name’</li>
<li>More options for MannKendall: control of colour and variable x-axis scales</li>
</ul>
</div>
    <div id="openair-05-0" class="section level1">
<h1 class="page-header" data-toc-text="0.5-0">
<a href="#openair-05-0" class="anchor"></a>openair 0.5-0<small> Unreleased </small>
</h1>
<ul>
<li>NEW FUNCTION <code>corPlot</code> for correlation matrices</li>
<li>add sep argument to import</li>
</ul>
</div>
    <div id="openair-04-23" class="section level1">
<h1 class="page-header" data-toc-text="0.4-23">
<a href="#openair-04-23" class="anchor"></a>openair 0.4-23<small> 2011-07-26 </small>
</h1>
<ul>
<li>enhance ‘normalise’ option in <code>timePlot</code>
</li>
<li>add annotate option to <code>windRose</code>/<code>pollutionRose</code>
</li>
<li>NEW FUNCTION TaylorDiagram for model evaluation.</li>
</ul>
</div>
    <div id="openair-04-22" class="section level1">
<h1 class="page-header" data-toc-text="0.4-22">
<a href="#openair-04-22" class="anchor"></a>openair 0.4-22<small> Unreleased </small>
</h1>
<ul>
<li>NOTE - use reshape2 in place of reshape for speed and reliability</li>
<li>allow more than one pollutant with <code>percentileRose</code>
</li>
<li>fixed title bug with <code>scatterPlot</code> - not shown for some methods</li>
<li>modifed key handling on plots using drawOpenKey, so key = NULL or FALSE now removes colour key.</li>
<li>added method = “level” to <code>scatterPlot</code> for binning data with optional smoothing, plus other code clean-ups</li>
<li>fix bug in conditionalQuantile that labelled plots wrongly when site(s) has missing data</li>
<li>added ref.x and ref.y to <code>timePlot</code> to allow refernce lines to be added</li>
<li>do not remove calm wind speed conditions in any functions where this is unecessary</li>
</ul>
</div>
    <div id="openair-04-21" class="section level1">
<h1 class="page-header" data-toc-text="0.4-21">
<a href="#openair-04-21" class="anchor"></a>openair 0.4-21<small> Unreleased </small>
</h1>
<ul>
<li>fixed bug in polarAnnulus that resulsted in a failure to annotate the plot properly with period = “trend” and less than 1 year of data; improved smoothing default options used</li>
<li>new ‘statistic’ option to <code>pollutionRose</code> to show contribution to counts and contribution to the mean. The latter is useful for displaying those wind directions that make most contribution to teh overall mean. Panel mean is also now shown.</li>
<li>small change to final example of re-shaping data in <code>importKCL</code>
</li>
<li>
<code>timeAverage</code> can now expand data to shorter time periods e.g. hourly to 15-minute. This makes it more flexible to combine data sets with differeing averging times. For example, daily mean particle data can be expanded to 1-hour means and combined with an hourly meteorological data set.</li>
<li>Fix treatment of calms in checkPrep, which affected cases with zero wind speeds in <code>timeAverage</code>
</li>
<li>Fix to vector averaging in <code>timeAverage</code> (did not include wind speed in calculations). For most data this will make very little difference, but will be more important for low wind speeds and/or variable wind directions.</li>
<li>allow type = ‘variable’ in <code>smoothTrend</code>
</li>
<li>Add avg.time to <code>smoothTrend</code> for “month” or “year” averages</li>
</ul>
</div>
    <div id="openair-04-20" class="section level1">
<h1 class="page-header" data-toc-text="0.4-20">
<a href="#openair-04-20" class="anchor"></a>openair 0.4-20<small> Unreleased </small>
</h1>
<ul>
<li>Do not remove calms in <code>timeAverage</code>
</li>
<li>NEW FUNCTION importSAQN to import data from the Scottish Air Quality Network</li>
</ul>
</div>
    <div id="openair-04-19" class="section level1">
<h1 class="page-header" data-toc-text="0.4-19">
<a href="#openair-04-19" class="anchor"></a>openair 0.4-19<small> Unreleased </small>
</h1>
<ul>
<li>improved import date.name/time.name handling of spaces</li>
<li>Improved scaling for polarFreq</li>
<li>
<code>scatterPlot</code> type = “wd” labels aligned</li>
<li>Added option “statistic” to <code>polarPlot</code>, which can now consider “mean”, “median”, “max” (maximum), “frequency”. “stdev” (standard deviation) or “weighted.mean” in a similar way to polarFreq</li>
<li>Fixed bad.24 and international tz bugs in import</li>
<li>updated import/import.2</li>
</ul>
</div>
    <div id="openair-04-18" class="section level1">
<h1 class="page-header" data-toc-text="0.4-18">
<a href="#openair-04-18" class="anchor"></a>openair 0.4-18<small> Unreleased </small>
</h1>
<ul>
<li>Better handling of missing data in <code>smoothTrend</code>/MannKendall; particularly when there are mutiple sites</li>
<li>Do not run checkPreo on selectByDate because it removes calms</li>
<li>Fixed scaling bug in polarFreq when ws.int != 1</li>
<li>use avg.time in calcPercentile instead of ‘period’ to ensure consistency with other functions (<code>timePlot</code> would fail with percentiles)</li>
<li>return NA in aqStats when no data present; previously it tried to calculate quanities, returning -Inf etc</li>
</ul>
</div>
    <div id="openair-04-17" class="section level1">
<h1 class="page-header" data-toc-text="0.4-17">
<a href="#openair-04-17" class="anchor"></a>openair 0.4-17<small> 2011-04-24 </small>
</h1>
<ul>
<li>use readRDS and not .readRDS (caused failure on R Dev)</li>
<li>openair now depends on &gt;=R2.13.0</li>
<li>NEW FUNCTION sqStats to calculate common and pollutant-specfic air quality statsitics by year and site.</li>
<li>Changed option data.capture in rollingMean to data.thresh to be consistent with other functions.</li>
</ul>
</div>
    <div id="openair-04-16" class="section level1">
<h1 class="page-header" data-toc-text="0.4-16">
<a href="#openair-04-16" class="anchor"></a>openair 0.4-16<small> Unreleased </small>
</h1>
<ul>
<li>Fixed bugs in cutData when a partial year was used with type = “month”. Also affected type = “season” and “weekday”. The plots were labelled in the wrong order.</li>
<li>Ensure that missing wind sectors are skipped in type = “wd” for <code>smoothTrend</code>, MannKendall, <code>timePlot</code> and <code>scatterPlot</code>
</li>
</ul>
</div>
    <div id="openair-04-15" class="section level1">
<h1 class="page-header" data-toc-text="0.4-15">
<a href="#openair-04-15" class="anchor"></a>openair 0.4-15<small> 2011-04-12 </small>
</h1>
<ul>
<li>Preparation for CRAN release</li>
<li>removed some restrictions on type/period combinations in polarAnnulus</li>
</ul>
</div>
    <div id="openair-04-14" class="section level1">
<h1 class="page-header" data-toc-text="0.4-14">
<a href="#openair-04-14" class="anchor"></a>openair 0.4-14<small> Unreleased </small>
</h1>
<ul>
<li>Added preliminary greyscale method to openColours and linked in strip background and other text and line colour control for standard openair plots.</li>
</ul>
</div>
    <div id="openair-04-13" class="section level1">
<h1 class="page-header" data-toc-text="0.4-13">
<a href="#openair-04-13" class="anchor"></a>openair 0.4-13<small> Unreleased </small>
</h1>
<ul>
<li>Removed ad-hoc sites from <code>importKCL</code>, added site classification to the help file and ensured GMT is exported.</li>
</ul>
</div>
    <div id="openair-04-12" class="section level1">
<h1 class="page-header" data-toc-text="0.4-12">
<a href="#openair-04-12" class="anchor"></a>openair 0.4-12<small> Unreleased </small>
</h1>
<ul>
<li>Added y.relation option to <code>smoothTrend</code> and MannKendall to allow flexible y-scales.</li>
<li>NEW FUNCTION ‘<code>percentileRose</code>’ for flexible plotting of percentiles by wind direction</li>
<li>NEW FUNCTION <code>selectRunning</code> for selecting run lengths of a numeric variable above a certain threshold.</li>
<li>Modified plot layout in <code>polarPlot</code> to maximise plotting area</li>
<li>Initial fixes to functions affected by time zone settings</li>
<li>polarFreq now has consistent annotation cf. <code>windRose</code> and <code>percentileRose</code>; new option grid.line to control radial axes.</li>
<li>Fixed couple of minor auto.text bugs in <code>summaryPlot</code> and <code>timePlot</code>
</li>
<li>Removed dependency of date for polar functions where time-based types are not required.</li>
</ul>
</div>
    <div id="openair-04-11" class="section level1">
<h1 class="page-header" data-toc-text="0.4-11">
<a href="#openair-04-11" class="anchor"></a>openair 0.4-11<small> Unreleased </small>
</h1>
<ul>
<li>More consistent use of strips in default plot (remove them)</li>
<li>Add percentage units to <code>windRose</code> and <code>pollutionRose</code> on radial scale</li>
</ul>
</div>
    <div id="openair-04-10" class="section level1">
<h1 class="page-header" data-toc-text="0.4-10">
<a href="#openair-04-10" class="anchor"></a>openair 0.4-10<small> 2011-03-08 </small>
</h1>
<ul>
<li>Fixed <code>calendarPlot</code> main/quickText handling.</li>
<li>Fixed <code>calendarPlot</code> first day of month error.</li>
<li>Fixed <code>summaryPlot</code> site ordering when more than one site.</li>
</ul>
</div>
    <div id="openair-04-9" class="section level1">
<h1 class="page-header" data-toc-text="0.4-9">
<a href="#openair-04-9" class="anchor"></a>openair 0.4-9<small> Unreleased </small>
</h1>
<ul>
<li>Added new options to <code>scatterPlot</code> (plot.type, lwd, and lty) making it possible to add points and/or lines</li>
</ul>
</div>
    <div id="openair-04-8" class="section level1">
<h1 class="page-header" data-toc-text="0.4-8">
<a href="#openair-04-8" class="anchor"></a>openair 0.4-8<small> Unreleased </small>
</h1>
<ul>
<li>Added new cutData type option ‘daylight’, enabled using new function cutDaylight.</li>
</ul>
</div>
    <div id="openair-04-7" class="section level1">
<h1 class="page-header" data-toc-text="0.4-7">
<a href="#openair-04-7" class="anchor"></a>openair 0.4-7<small> 2011-02-17 </small>
</h1>
<ul>
<li><div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Added new <span class="cf">function</span> conditionalQuantile <span class="cf">for</span> model</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>evaluation purposes.</span></code></pre></div></li>
<li><div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Fixed <span class="st">`</span><span class="at">importAURN</span><span class="st">`</span> to account <span class="cf">for</span> a change <span class="cf">in</span> web domain</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>address at AEA.</span></code></pre></div></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Carslaw, Karl Ropkins.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


